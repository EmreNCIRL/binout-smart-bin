syntax = "proto3";
package binout.binschedule;

option java_multiple_files = true;
option java_package = "binout.binschedule";
option java_outer_classname = "BinScheduleProto";

message BinSchedule {
  string city = 1;
  string green_date = 2;
  string blue_date = 3;
  string brown_date = 4;
}

message BinRequest {
  string city = 1;
}

message Ack {
  bool success = 1;
  string message = 2;
}

service BinScheduleService {
  // Simple RPC to get schedule for city
  rpc GetSchedule(BinRequest) returns (BinSchedule);
  // Server streaming RPC to send repeated schedules
  rpc StreamSchedules(BinRequest) returns (stream BinSchedule);
  // Client streaming RPC to upload schedules and get ack
  rpc UploadSchedules(stream BinSchedule) returns (Ack);
  // Bidirectional streaming RPC for schedule chat
  rpc ScheduleChat(stream BinSchedule) returns (stream Ack);
}
